if(MSVC)
    set(CD_SDL2_LIB_NAME libcdsdl2)
else()
    set(CD_SDL2_LIB_NAME cdsdl2)
endif()

set(BUILD_SHARED_LIBS OFF)
add_library(${CD_SDL2_LIB_NAME} SHARED  cdsdl2.h  cdsdl2.cpp)
target_include_directories(${CD_SDL2_LIB_NAME} PRIVATE "${THIRD_PARTY_DIR}/SDL2/include" ${CMAKE_SOURCE_DIR} ${CMAKE_CURRENT_SOURCE_DIR})
target_link_libraries(${CD_SDL2_LIB_NAME} PRIVATE SDL2::SDL2 ${LIB_NAME})
target_compile_definitions(${CD_SDL2_LIB_NAME} PUBLIC COMPUTE_DUCK_BUILD_DLL)
if(MSVC)
    target_compile_options(${CD_SDL2_LIB_NAME} PRIVATE "/wd4251;")

    set_property(TARGET SDL2 PROPERTY FOLDER 3rd/SDL2)
    set_property(TARGET SDL2_test PROPERTY FOLDER 3rd/SDL2)
    set_property(TARGET SDL2main PROPERTY FOLDER 3rd/SDL2)
    set_property(TARGET SDL2-static PROPERTY FOLDER 3rd/SDL2)
    set_property(TARGET uninstall PROPERTY FOLDER 3rd/SDL2)
    set_property(TARGET sdl_headers_copy PROPERTY FOLDER 3rd/SDL2)
endif()
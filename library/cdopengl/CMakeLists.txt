if(MSVC)
    set(CD_OPENGL_LIB_NAME libcdopengl)
else()
    set(CD_OPENGL_LIB_NAME cdopengl)
endif()

file(GLOB glad "${CMAKE_CURRENT_SOURCE_DIR}/glad/*.h" "${CMAKE_CURRENT_SOURCE_DIR}/glad/*.c")
add_library(${CD_OPENGL_LIB_NAME} SHARED  cdopengl.h  cdopengl.cpp ${glad})
target_include_directories(${CD_OPENGL_LIB_NAME} PRIVATE "${CMAKE_CURRENT_SOURCE_DIR}/glad" ${CMAKE_SOURCE_DIR} ${CMAKE_CURRENT_SOURCE_DIR})
target_link_libraries(${CD_OPENGL_LIB_NAME} PRIVATE ${LIB_NAME})
target_compile_definitions(${CD_OPENGL_LIB_NAME} PUBLIC COMPUTE_DUCK_BUILD_DLL)
if(MSVC)
    target_compile_options(${CD_OPENGL_LIB_NAME} PRIVATE "/wd4251;")
endif()